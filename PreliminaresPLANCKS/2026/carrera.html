<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrera de Delegaciones</title>
    <style>
        /* --- ESTILOS GENERALES Y FONDO --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            /* Fondo de cielo degradado */
            background: linear-gradient(to bottom, #87CEEB 0%, #E0F6FF 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh; /* Ocupar toda la altura */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h2 {
            text-align: center;
            color: #333;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
            margin-bottom: 30px;
        }

        /* --- CONTENEDOR DE LA PISTA --- */
        .pista-container {
            width: 100%;
            max-width: 900px;
            background: transparent; /* Fondo transparente */
            padding-top: 20px;
            padding-bottom: 20px;
            position: relative;
            /* Sombra para dar efecto de elevaci√≥n */
            box-shadow: 0 15px 25px rgba(0,0,0,0.15);
            border-radius: 12px;
            overflow: hidden;
        }

        /* L√≠nea de META a cuadros */
        .pista-container::after {
            content: '';
            position: absolute;
            right: 10px;
            top: 0;
            bottom: 0;
            width: 15px;
            background: repeating-linear-gradient(
                45deg,
                #fff,
                #fff 5px,
                #333 5px,
                #333 10px
            );
            z-index: 1;
            opacity: 0.7;
        }

        /* --- ESTILOS DEL CARRIL --- */
        .carril {
            display: flex;
            align-items: center;
            position: relative;
            height: 80px; /* M√°s altura para los personajes */
            /* L√≠nea divisoria blanca gruesa */
            border-bottom: 4px solid rgba(255, 255, 255, 0.8);
            padding: 0 20px;
        }
        
        /* Colores alternos para los carriles */
        .carril:nth-child(4n+1) { background-color: #e74c3c; } /* Rojo */
        .carril:nth-child(4n+2) { background-color: #2ecc71; } /* Verde */
        .carril:nth-child(4n+3) { background-color: #3498db; } /* Azul */
        .carril:nth-child(4n+4) { background-color: #f1c40f; } /* Amarillo */

        .nombre-delegacion {
            width: 130px;
            font-weight: bold;
            font-size: 16px;
            color: white; /* Texto blanco */
            text-shadow: 1px 1px 3px rgba(0,0,0,0.6); /* Sombra para contraste */
            flex-shrink: 0;
            z-index: 2;
        }

        .area-corrida {
            flex-grow: 1;
            position: relative;
            height: 100%;
            margin-right: 20px; /* Espacio antes de la meta */
        }

        /* --- EL CORREDOR QUE SE MUEVE --- */
        .corredor {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            display: flex;
            align-items: center;
            transition: width 1.8s cubic-bezier(0.25, 0.1, 0.25, 1); /* Movimiento m√°s suave */
            width: 0%;
        }

        /* Contenedor del personaje y el contador */
        .personaje-container {
            position: absolute;
            right: 0;
            /* Centrar el punto medio del personaje en el final de la barra */
            transform: translateX(50%); 
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 5;
        }

        /* --- ESTILO PARA EMOJIS --- */
        .mascota-icono {
            font-size: 45px;
            line-height: 1;
            /* Sombra para que destaque del suelo */
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3));
            margin-bottom: 5px;
        }
        
        /* --- ESTILO PARA IM√ÅGENES PNG (Para el futuro) --- */
        .mascota-img {
            width: 65px;
            height: 65px;
            object-fit: contain;
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3));
            margin-bottom: 5px;
        }

        /* --- CONTADOR DE EQUIPOS --- */
        .contador {
            font-weight: bold;
            color: white;
            font-size: 14px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
            white-space: nowrap;
            background-color: rgba(0,0,0,0.2); /* Peque√±o fondo oscuro */
            padding: 2px 6px;
            border-radius: 10px;
        }

    </style>
</head>
<body>

    <h2>üèÅ Estado de las Inscripciones üèÅ</h2>

    <div class="pista-container" id="pista">
        </div>

    <script>
        // =================================================================
        // ZONA DE DATOS: ¬°Edita esto con tus delegaciones!
        // =================================================================
        // NOTA: En 'imagen' pon el nombre de tu archivo PNG (ej: "leon.png")
        //       En 'icono' pon el emoji que quieras usar mientras tanto.
        const datosCarrera = [
          { "delegacion": "UAB",      "imagen": "cohete.png",    "icono": "üöÄ", "equipos": 18 },
          { "delegacion": "UCM",      "imagen": "cisne.png",     "icono": "ü¶¢", "equipos": 5 },
          { "delegacion": "UV",       "imagen": "coche.png",     "icono": "üöó", "equipos": 5 },
          { "delegacion": "UniOvi",   "imagen": "oso.png",       "icono": "üêª", "equipos": 4 },
          { "delegacion": "UMU",      "imagen": "zanahoria.png", "icono": "ü•ï", "equipos": 3 },
          { "delegacion": "UGR",      "imagen": "lobo.png",      "icono": "üê∫", "equipos": 2 }
        ];
        // =================================================================


        function dibujarCarrera() {
            const contenedor = document.getElementById('pista');
            
            // 1. Encontrar el m√°ximo de equipos para calcular el 100%
            const maxEquipos = Math.max(...datosCarrera.map(d => d.equipos));

            datosCarrera.forEach((dato, index) => {
                // 2. Calcular porcentaje (Usamos 95% m√°ximo para que no se monte en la meta)
                let porcentaje = 0;
                if(maxEquipos > 0) {
                    porcentaje = (dato.equipos / maxEquipos) * 95;
                }

                // 3. Crear el HTML del carril
                const htmlCarril = `
                    <div class="carril" style="z-index: ${datosCarrera.length - index};">
                        <div class="nombre-delegacion">${dato.delegacion}</div>
                        <div class="area-corrida">
                            <div class="corredor" style="width: ${porcentaje}%">
                                <div class="personaje-container">
                                    
                                    <div class="mascota-icono">${dato.icono}</div>
                                    <div class="contador">(${dato.equipos})</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Insertar el carril en la pista
                contenedor.insertAdjacentHTML('beforeend', htmlCarril);
            });
        }

        // Ejecutar la funci√≥n al cargar
        dibujarCarrera();
    </script>
</body>
</html>
